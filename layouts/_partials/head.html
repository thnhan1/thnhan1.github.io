<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta http-equiv="X-UA-Compatible" content="IE = edge, chrome = 1">

{{ $description := (.Content | plainify | truncate 80 "â€¦") | safeHTML }}
<meta name="description" content="{{ or $description site.Params.site_description }}">
{{ hugo.Generator }}
<link rel="canonical" href="{{ .Permalink  }}">
<meta property="og:type" content="website">
<meta property="og:locale" content="{{ site.Language.LanguageCode }}">
<meta property="og:title" content='{{ .Title }}'>
<meta property="og:site_name" content="{{ site.Title }}">
<meta property="og:description" content="{{ or $description site.Params.site_description }}">
<meta property="og:url" content="{{ .Permalink  }}">
<meta property="og:image" content="/imgs/hero.webp">
<meta name="twitter:image" content="/imgs/hero.webp">
<meta name="twitter:card" content="summary_large_image">
<link rel="shortcut icon" href="/imgs/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/imgs/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/imgs/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/imgs/apple-touch-icon.png">

{{ with resources.Get "/assets/scss/custom.scss" }}
{{ if eq hugo.Environment "development" }}
{{ with . | toCSS | minify }}
<link rel="stylesheet" href="{{ .RelPermalink }}">
{{ end }}
{{ else }}
{{ with . | toCSS | minify | fingerprint }}
<link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous">
{{ end }}
{{ end }}
{{ end }}

{{ with resources.Get "/assets/scss/main.scss" }}
{{ if eq hugo.Environment "development" }}
{{ with . | toCSS | minify }}
<link rel="stylesheet" href="{{ .RelPermalink }}">
{{ end }}
{{ else }}
{{ with . | toCSS | minify | fingerprint }}
<link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous">
{{ end }}
{{ end }}
{{ end }}

<script>
  (function () {
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);
  })();
</script>

<script>
  (function () {
    console.info(
      '%c Theme %c ' + 'Silavind v1.1.1 ',
      'padding: 3px 6px; border-radius: 3px 0 0 3px; color: #fff; background: #093729; font-weight: bold;',
      'padding: 3px 6px; border-radius: 0 3px 3px 0; color: #fff; background: #0f5c45; font-weight: bold;'
    )
    console.log("https://github.com/ertzizart/silavind")
    console.log("Designed by Hao Wu <hao.wu@ertzizart.com>")
  })();
</script>

{{ if .IsHome }}
{{ else }}
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const backtotop = document.getElementById('backtotop');

    function isPageScrollable() {
      return document.documentElement.scrollHeight > window.innerHeight;
    }
    const scrollable = isPageScrollable();

    if (scrollable) {
      backtotop.style.display = 'block';
    } else {
      backtotop.style.display = 'none';
    }
  });
</script>
{{ end }}